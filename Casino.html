<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CYBER-LOTER√çA DE ORO üé∞ | Fiesta Mexicana Premium</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --premium-gold: #FFD700;
            --luxury-gold: #FFC400;
            --dark-gold: #D4AF37;
            --light-gold: #FFEEA8;
            --gold-glow: 0 0 10px #fff, 0 0 20px #FFD700, 0 0 30px #FFD700, 0 0 40px #FFD700, 0 0 70px #FFD700, 0 0 80px #FFD700;
            --gold-glow-strong: 0 0 15px #fff, 0 0 25px #FFD700, 0 0 35px #FFD700, 0 0 45px #FFD700, 0 0 80px #FFD700, 0 0 100px #FFD700;
            --platinum: #E5E4E2;
            --platinum-glow: 0 0 5px #fff, 0 0 10px #E5E4E2, 0 0 15px #E5E4E2, 0 0 20px #E5E4E2;
            --dark-bg: #0A0A16;
            --darker-bg: #050510;
            --panel-bg: rgba(25, 20, 5, 0.85);
            --grid-color: rgba(255, 215, 0, 0.2);
            --mexican-red: #CE1126;
            --mexican-green: #006847;
            --mexican-white: #FFFFFF;
            --slot-size: 140px;
            --diamond-bg: linear-gradient(125deg, rgba(255,215,0,0.1) 0%, rgba(255,215,0,0.3) 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background-color: var(--dark-bg);
            color: white;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            overflow-x: hidden;
            position: relative;
            padding: 20px;
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(212, 175, 55, 0.1) 0%, transparent 25%),
                radial-gradient(circle at 85% 50%, rgba(212, 175, 55, 0.1) 0%, transparent 25%),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="50" height="50" fill="%23006847" opacity="0.1"/><rect x="50" y="0" width="50" height="50" fill="%23CE1126" opacity="0.1"/><rect x="0" y="50" width="50" height="50" fill="%23CE1126" opacity="0.1"/><rect x="50" y="50" width="50" height="50" fill="%23006847" opacity="0.1"/></svg>');
            background-size: 100px 100px, 100px 100px, 100px 100px;
        }
        
        @keyframes scanline-v {
            0% { top: 0; }
            100% { top: 100%; }
        }

        @keyframes scanline-h {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                linear-gradient(var(--grid-color) 1px, transparent 1px),
                linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
            background-size: 30px 30px;
            z-index: -1;
            opacity: 0.5;
        }

        .mexican-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(206, 17, 38, 0.15) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(0, 104, 71, 0.15) 0%, transparent 20%),
                radial-gradient(circle at 50% 50%, rgba(255, 215, 0, 0.2) 0%, transparent 30%);
            z-index: -1;
            pointer-events: none;
        }

        .gold-dust {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%25' height='100%25'%3E%3Cdefs%3E%3Cpattern id='gold-dust' patternUnits='userSpaceOnUse' width='100' height='100'%3E%3Ccircle cx='%3C%3DMath.floor(Math.random()*100)%3E' cy='%3C%3DMath.floor(Math.random()*100)%3E' r='1' fill='%23FFD700' opacity='0.3'/%3E%3C/pattern%3E%3C/defs%3E%3Crect fill='url(%23gold-dust)' width='100%25' height='100%25'/%3E%3C/svg%3E");
            z-index: -1;
            pointer-events: none;
            opacity: 0.5;
        }
        
        .cyberpunk-container {
            width: 100%;
            max-width: 1300px;
            position: relative;
            z-index: 2;
        }
        
        .cyberpunk-header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }
        
        .cyberpunk-header h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 4rem;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 4px;
            color: var(--premium-gold);
            text-shadow: var(--gold-glow-strong);
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
            padding: 0 20px;
        }
        
        .cyberpunk-header h1::before, .cyberpunk-header h1::after {
            content: '‚ú¶';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: var(--premium-gold);
            text-shadow: var(--gold-glow);
            font-size: 2rem;
        }
        
        .cyberpunk-header h1::before {
            left: -30px;
        }
        
        .cyberpunk-header h1::after {
            right: -30px;
        }
        
        .cyberpunk-header p {
            font-size: 1.4rem;
            color: var(--light-gold);
            text-shadow: 0 0 15px var(--light-gold);
            margin-top: 15px;
            font-weight: 500;
            letter-spacing: 1px;
        }
        
        .cyber-machine {
            background: var(--panel-bg);
            border: 3px solid var(--dark-gold);
            box-shadow: 
                0 0 25px rgba(255, 215, 0, 0.7),
                inset 0 0 30px rgba(255, 215, 0, 0.2);
            border-radius: 20px;
            padding: 35px;
            position: relative;
            overflow: hidden;
        }
        
        .cyber-machine::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, transparent, transparent, var(--premium-gold), var(--luxury-gold), transparent, transparent);
            z-index: -1;
            animation: border-flow 3s linear infinite;
        }
        
        @keyframes border-flow {
            0% { opacity: 0; }
            50% { opacity: 1; }
            100% { opacity: 0; }
        }
        
        .stats-panel {
            display: flex;
            justify-content: space-between;
            background: linear-gradient(to right, rgba(10, 10, 22, 0.9), rgba(20, 15, 5, 0.9));
            padding: 20px 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            border: 2px solid var(--dark-gold);
            box-shadow: 0 0 15px var(--premium-gold), inset 0 0 10px rgba(255, 215, 0, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .stats-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--premium-gold), transparent);
            animation: scanline-v 2s linear infinite;
        }
        
        .credit-display, .bet-display, .win-display {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.7rem;
            color: var(--premium-gold);
            text-shadow: 0 0 8px var(--premium-gold);
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .credit-display span, .bet-display span, .win-display span {
            color: var(--platinum);
            margin-right: 5px;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-shadow: none;
        }
        
        .slots-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            background: linear-gradient(to bottom, #1a1a2a, #0d0d1a);
            padding: 30px 15px;
            border-radius: 15px;
            margin-bottom: 35px;
            position: relative;
            overflow: hidden;
            border: 2px solid var(--dark-gold);
            box-shadow: inset 0 0 20px rgba(255, 215, 0, 0.1);
            justify-content: center;
        }
        
        .slots-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--premium-gold), transparent);
            animation: scanline-v 2s linear infinite;
        }
        
        .slot {
            width: var(--slot-size);
            height: var(--slot-size);
            background: rgba(0, 0, 0, 0.8);
            border: 3px solid var(--dark-gold);
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 4rem;
            color: var(--premium-gold);
            text-shadow: var(--gold-glow);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            text-indent: -9999px;
            margin: auto;
        }
        
        .slot.win {
            animation: win-blink 0.5s infinite alternate;
            box-shadow: 0 0 30px var(--premium-gold);
        }
        
        @keyframes win-blink {
            from { 
                background-color: rgba(0, 0, 0, 0.8);
                transform: scale(1);
            }
            to { 
                background-color: rgba(255, 215, 0, 0.3);
                transform: scale(1.05);
            }
        }
        
        .slot-reel {
            width: 100%;
            height: 300%;
            position: absolute;
            top: 0;
            left: 0;
            display: flex;
            flex-direction: column;
        }

        .reel-item {
            width: var(--slot-size);
            height: var(--slot-size);
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            background-color: transparent;
            text-indent: -9999px;
            flex-shrink: 0;
        }

        .controls-panel {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .bet-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }

        .bet-btn, .max-bet-btn {
            background: var(--darker-bg);
            border: 2px solid var(--premium-gold);
            color: var(--premium-gold);
            font-family: 'Orbitron', sans-serif;
            font-size: 1.4rem;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            text-shadow: 0 0 8px var(--premium-gold);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            position: relative;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .bet-btn:hover, .max-bet-btn:hover {
            background: var(--premium-gold);
            color: black;
            box-shadow: 0 0 20px var(--premium-gold);
            transform: translateY(-3px);
        }
        
        .bet-btn:active, .max-bet-btn:active {
            transform: translateY(1px);
        }

        .max-bet-btn {
            width: auto;
            border-radius: 8px;
            padding: 0 15px;
            font-size: 1rem;
        }

        .bet-amount {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            color: var(--premium-gold);
            min-width: 60px;
            text-align: center;
            text-shadow: 0 0 10px var(--premium-gold);
            padding: 5px 15px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            border: 1px solid var(--dark-gold);
        }

        .lever-container {
            display: flex;
            justify-content: center;
        }

        .cyber-lever {
            background: linear-gradient(to bottom, #8B0000, #600000);
            width: 70px;
            height: 200px;
            border: 4px solid #4d0000;
            border-radius: 35px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.7);
        }

        .cyber-lever::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 10px;
            right: 10px;
            height: 50px;
            background: linear-gradient(to bottom, #FFD700, #B8860B);
            border-radius: 25px;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px var(--premium-gold);
        }

        .cyber-lever.pulled::before {
            top: 135px;
            background: linear-gradient(to bottom, #B8860B, #FFD700);
        }

        .cyber-lever:hover::before {
            box-shadow: 0 0 20px var(--premium-gold);
        }

        .cyber-lever::after {
            content: 'PULL';
            position: absolute;
            bottom: 10px;
            left: 0;
            right: 0;
            text-align: center;
            color: var(--premium-gold);
            font-family: 'Orbitron', sans-serif;
            font-size: 0.9rem;
            text-shadow: 0 0 5px var(--premium-gold);
            letter-spacing: 1px;
        }
        
        .message-display {
            background: linear-gradient(to right, rgba(10, 10, 22, 0.9), rgba(20, 15, 5, 0.9));
            border: 2px solid var(--premium-gold);
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
            text-align: center;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.4rem;
            color: var(--premium-gold);
            text-shadow: 0 0 10px var(--premium-gold);
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .message-display::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--premium-gold), transparent);
            animation: scanline-h 3s linear infinite;
        }

        .win-animation {
            animation: win-pulse 0.5s infinite alternate;
        }

        @keyframes win-pulse {
            from { 
                box-shadow: 0 0 15px var(--premium-gold);
                transform: scale(1);
            }
            to { 
                box-shadow: 0 0 40px var(--premium-gold), 0 0 60px var(--premium-gold);
                transform: scale(1.02);
            }
        }
        
        .cyber-lines {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 1;
        }

        .cyber-line {
            position: absolute;
            background: linear-gradient(to right, transparent, var(--premium-gold), transparent);
            width: 100%;
            height: 2px;
            opacity: 0.4;
            animation: line-move 10s infinite linear;
        }

        @keyframes line-move {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100vh); }
        }

        .lines-panel {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .line-btn {
            background: var(--darker-bg);
            border: 2px solid var(--premium-gold);
            color: var(--premium-gold);
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            transition: all 0.3s ease;
            text-shadow: 0 0 5px var(--premium-gold);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
        }

        .line-btn.active {
            background: var(--premium-gold);
            color: black;
            box-shadow: 0 0 15px var(--premium-gold);
            transform: translateY(-3px);
        }

        .line-btn:hover:not(.active) {
            background: rgba(255, 215, 0, 0.2);
            transform: translateY(-2px);
        }

        .paytable-panel {
            background: linear-gradient(to right, rgba(10, 10, 22, 0.95), rgba(20, 15, 5, 0.95));
            border: 2px solid var(--premium-gold);
            border-radius: 12px;
            padding: 20px;
            margin-top: 25px;
            display: none;
            box-shadow: 0 0 25px rgba(255, 215, 0, 0.3);
            position: relative;
            overflow: hidden;
        }

        .paytable-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--premium-gold), transparent);
            animation: scanline-h 3s linear infinite;
        }

        .paytable-panel h3 {
            font-family: 'Orbitron', sans-serif;
            color: var(--premium-gold);
            text-align: center;
            margin-bottom: 15px;
            text-shadow: 0 0 10px var(--premium-gold);
            font-size: 1.5rem;
            letter-spacing: 2px;
            border-bottom: 1px solid var(--dark-gold);
            padding-bottom: 10px;
        }

        .paytable-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            font-size: 1rem;
            padding: 5px 0;
            border-bottom: 1px solid rgba(255, 215, 0, 0.2);
        }

        .paytable-symbols {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--light-gold);
            text-shadow: 0 0 5px var(--light-gold);
        }

        .paytable-symbols img {
            width: 40px;
            height: 40px;
            border-radius: 4px;
            border: 1px solid var(--dark-gold);
        }

        .paytable-value {
            color: var(--premium-gold);
            font-weight: bold;
            text-shadow: 0 0 5px var(--premium-gold);
        }

        .toggle-paytable {
            background: var(--darker-bg);
            border: 2px solid var(--premium-gold);
            color: var(--premium-gold);
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            margin: 15px auto;
            display: block;
            transition: all 0.3s ease;
            text-shadow: 0 0 5px var(--premium-gold);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.2);
            letter-spacing: 1px;
        }

        .toggle-paytable:hover {
            background: var(--premium-gold);
            color: black;
            box-shadow: 0 0 20px var(--premium-gold);
            transform: translateY(-3px);
        }

        .win-line {
            position: absolute;
            background: linear-gradient(90deg, transparent, var(--premium-gold), transparent);
            height: 5px;
            border-radius: 3px;
            box-shadow: 0 0 15px var(--premium-gold);
            z-index: 5;
            display: none;
        }

        .jackpot-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        .jackpot-text {
            font-family: 'Orbitron', sans-serif;
            font-size: 6rem;
            color: var(--premium-gold);
            text-shadow: var(--gold-glow-strong);
            animation: jackpot-pulse 1s infinite alternate;
        }

        @keyframes jackpot-pulse {
            from { 
                transform: scale(1);
                text-shadow: 0 0 10px #fff, 0 0 20px #FFD700, 0 0 30px #FFD700;
            }
            to { 
                transform: scale(1.2);
                text-shadow: 0 0 20px #fff, 0 0 40px #FFD700, 0 0 60px #FFD700, 0 0 80px #FFD700;
            }
        }

        .auto-spin-panel {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            position: relative;
        }

        .auto-spin-btn {
            background: var(--darker-bg);
            border: 2px solid var(--premium-gold);
            color: var(--premium-gold);
            padding: 10px 18px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Orbitron', sans-serif;
            transition: all 0.3s ease;
            position: relative;
            text-shadow: 0 0 5px var(--premium-gold);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
        }

        .auto-spin-btn:hover {
            background: var(--premium-gold);
            color: black;
            box-shadow: 0 0 15px var(--premium-gold);
            transform: translateY(-3px);
        }

        .auto-spin-btn.active {
            background: var(--premium-gold);
            color: black;
            box-shadow: 0 0 15px var(--premium-gold);
        }

        .auto-spin-counter {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--premium-gold);
            color: black;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
            box-shadow: 0 0 10px var(--premium-gold);
            border: 1px solid black;
        }

        .info-panel {
            position: fixed;
            bottom: 15px;
            right: 15px;
            background: linear-gradient(to right, rgba(10, 10, 22, 0.9), rgba(20, 15, 5, 0.9));
            border: 2px solid var(--premium-gold);
            border-radius: 8px;
            padding: 12px;
            font-size: 0.9rem;
            opacity: 0.8;
            transition: opacity 0.3s ease;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            max-width: 250px;
        }

        .info-panel:hover {
            opacity: 1;
            transform: translateY(-2px);
        }

        .info-panel p {
            margin: 5px 0;
            color: var(--light-gold);
            text-shadow: 0 0 5px var(--light-gold);
        }

        .win-particle {
            position: absolute;
            width: 5px;
            height: 5px;
            background: var(--premium-gold);
            border-radius: 50%;
            pointer-events: none;
            z-index: 10;
            animation: particle-animation 2s forwards;
            box-shadow: 0 0 10px var(--premium-gold), 0 0 20px var(--premium-gold);
        }

        @keyframes particle-animation {
            0% {
                opacity: 1;
                transform: translate(0, 0);
            }
            100% {
                opacity: 0;
                transform: translate(var(--tx), var(--ty));
            }
        }
        
        /* New Styles for Cursor and Jackpot Particles */
        .cursor-particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: var(--premium-gold);
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            transform: scale(0);
            transition: all 0.5s ease-out;
            box-shadow: 0 0 5px var(--premium-gold);
            z-index: 10;
        }

        .jackpot-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--premium-gold);
            box-shadow: 0 0 15px var(--premium-gold);
            pointer-events: none;
            z-index: 101;
            animation: firework 1s ease-out forwards;
        }

        @keyframes firework {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--endX), var(--endY)) scale(0);
                opacity: 0;
            }
        }

        .confetti-particle {
            position: absolute;
            width: 10px;
            height: 10px;
            pointer-events: none;
            z-index: 101;
            animation: confetti-fall 2s ease-out forwards;
        }

        @keyframes confetti-fall {
            0% {
                transform: translate(0, 0) rotate(0deg) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--endX), var(--endY)) rotate(720deg) scale(0);
                opacity: 0;
            }
        }
        
        .gold-diamond {
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--diamond-bg);
            transform: rotate(45deg);
            box-shadow: 0 0 15px var(--premium-gold);
            z-index: -1;
        }

        .marquee-container {
            position: absolute;
            top: 220px;
            left: 0;
            width: 100%;
            overflow: hidden;
            white-space: nowrap;
            z-index: 10;
        }

        .marquee-text {
            display: inline-block;
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2rem;
            color: var(--premium-gold);
            text-shadow: 0 0 5px var(--premium-gold);
            animation: marquee 30s linear infinite;
            padding: 0 20px;
        }

        /* --- New Reel Spin Animation --- */
        @keyframes spin-reel {
            from { transform: translateY(0); }
            to { transform: translateY(-100%); }
        }

        .slot-reel.spinning {
            animation: spin-reel .1s linear infinite;
        }

        .slot-reel.stop {
            animation: none;
            transition: transform 1.5s cubic-bezier(0.18, 0.89, 0.32, 1.28);
        }

        /* Responsive adjustments */
        @media (max-width: 1200px) {
            :root {
                --slot-size: 120px;
            }
            .cyberpunk-container {
                max-width: 1100px;
            }
        }

        @media (max-width: 992px) {
            :root {
                --slot-size: 100px;
            }
            .cyberpunk-container {
                max-width: 900px;
            }
            .cyberpunk-header h1 {
                font-size: 3rem;
            }
        }

        @media (max-width: 768px) {
            :root {
                --slot-size: 90px;
            }
            .cyberpunk-container {
                max-width: 900px;
            }
            .cyberpunk-header h1 {
                font-size: 2.5rem;
            }
            .credit-display, .bet-display, .win-display {
                font-size: 1.2rem;
            }
            .lines-panel {
                gap: 5px;
            }
            .line-btn {
                padding: 4px 8px;
                font-size: 0.9rem;
            }
            .cyber-machine {
                padding: 20px;
            }
            .stats-panel {
                flex-direction: row;
                padding: 10px 15px;
            }
            .cyber-lever {
                width: 50px;
                height: 160px;
            }
            .cyber-lever.pulled::before {
                top: 120px;
            }
        }

        @media (max-width: 576px) {
            :root {
                --slot-size: 70px;
            }
            .cyberpunk-container {
                max-width: 900px;
            }
            .cyberpunk-header h1 {
                font-size: 2.5rem;
                letter-spacing: 2px;
            }
            .cyberpunk-header h1::after {
                font-size: 1rem;
                bottom: -15px;
            }
            .cyberpunk-header p {
                font-size: 1.2rem;
            }
            .cyber-machine {
                padding: 15px;
            }
            .stats-panel {
                flex-direction: column;
                gap: 10px;
                align-items: center;
            }
            .slots-container {
                padding: 15px 5px;
            }
            .slot-divider {
                margin: 0 3px;
            }
            .lines-panel {
                justify-content: space-around;
            }
            .line-btn {
                padding: 3px 6px;
                font-size: 0.8rem;
            }
            .cyber-lever {
                width: 50px;
                height: 140px;
            }
            .cyber-lever::before {
                height: 35px;
            }
            .cyber-lever.pulled::before {
                top: 105px;
            }
            .message-display {
                font-size: 1rem;
                padding: 10px;
                min-height: 60px;
            }
        }

        @media (max-width: 480px) {
            :root {
                --slot-size: 60px;
            }
            body {
                padding: 10px;
            }
            .cyberpunk-header h1 {
                font-size: 2rem;
            }
            .cyberpunk-header p {
                font-size: 1rem;
            }
            .cyber-lever {
                width: 40px;
                height: 120px;
            }
            .cyber-lever::before {
                height: 30px;
                left: 8px;
                right: 8px;
            }
            .cyber-lever.pulled::before {
                top: 90px;
            }
            .bet-btn {
                width: 35px;
                height: 35px;
                font-size: 1rem;
            }
            .bet-amount {
                font-size: 1.2rem;
            }
            .credit-display, .bet-display, .win-display {
                font-size: 1rem;
            }
            .line-btn {
                font-size: 0.7rem;
                padding: 2px 4px;
            }
        }

        @media (max-width: 360px) {
            :root {
                --slot-size: 50px;
            }
            .cyberpunk-header h1 {
                font-size: 1.6rem;
            }
            .slots-container {
                padding: 10px 2px;
            }
            .cyber-machine {
                padding: 10px;
            }
        }

        @media (max-height: 600px) and (orientation: landscape) {
            :root {
                --slot-size: 70px;
            }
            body {
                padding: 10px;
            }
            .cyberpunk-container {
                max-width: 100%;
            }
            .cyberpunk-header {
                margin-bottom: 15px;
            }
            .cyberpunk-header h1 {
                font-size: 2rem;
            }
            .cyber-machine {
                padding: 15px;
            }
            .stats-panel {
                margin-bottom: 15px;
                padding: 10px;
            }
            .slots-container {
                margin-bottom: 15px;
                padding: 15px 5px;
            }
            .controls-panel {
                gap: 10px;
            }
            .cyber-lever {
                width: 40px;
                height: 120px;
            }
            .cyber-lever.pulled::before {
                top: 90px;
            }
            .message-display {
                margin-top: 15px;
                min-height: 50px;
                padding: 10px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <audio id="spinSound" src="assets/spin_sound.mp3" preload="auto"></audio>
    <audio id="winSound" src="assets/win_sound.mp3" preload="auto"></audio>
    <audio id="loseSound" src="assets/lose_sound.mp3" preload="auto"></audio>
    <audio id="jackpotSound" src="assets/jackpot_sound.mp3" preload="auto"></audio>

    <div class="mexican-pattern"></div>
    <div class="gold-dust"></div>
    <div class="gold-diamonds-container"></div>
    
    <div class="cyberpunk-container">
        <div class="cyberpunk-header">
            <h1 id="gameTitle">CYBER-LOTER√çA DE ORO</h1>
            <p>¬°Gira la palanca y prueba tu suerte con la aut√©ntica loter√≠a mexicana!</p>
            <div class="marquee-container">
                <div class="marquee-text" id="marqueeText">
                    ‚ú¶ ¬°Bienvenido a CYBER-LOTER√çA DE ORO! Juega, gana y desbloquea el Jackpot. ¬°Sigue la racha ganadora!
                </div>
            </div>
        </div>
        
        <div class="cyber-machine">
            <div class="stats-panel">
                <div class="credit-display">
                    <span>Cr√©ditos</span>
                    <span id="credits">5000</span>
                </div>
                <div class="bet-display">
                    <span>Apuesta</span>
                    <span id="bet">10</span>
                </div>
                <div class="win-display">
                    <span>Premio</span>
                    <span id="win">0</span>
                </div>
            </div>
            
            <div class="lines-panel">
                <div class="line-btn active" data-lines="1">1 L√≠nea</div>
                <div class="line-btn" data-lines="3">3 L√≠neas</div>
                <div class="line-btn" data-lines="5">5 L√≠neas</div>
                <div class="line-btn" data-lines="7">7 L√≠neas</div>
                <div class="line-btn" data-lines="9">9 L√≠neas</div>
            </div>
            
            <div class="slots-container">
                <div class="slot" id="slot0"><div class="slot-reel"></div></div>
                <div class="slot" id="slot1"><div class="slot-reel"></div></div>
                <div class="slot" id="slot2"><div class="slot-reel"></div></div>
                <div class="slot" id="slot3"><div class="slot-reel"></div></div>
                <div class="slot" id="slot4"><div class="slot-reel"></div></div>
                <div class="slot" id="slot5"><div class="slot-reel"></div></div>
                <div class="slot" id="slot6"><div class="slot-reel"></div></div>
                <div class="slot" id="slot7"><div class="slot-reel"></div></div>
                <div class="slot" id="slot8"><div class="slot-reel"></div></div>
            </div>
            
            <div class="controls-panel">
                <div class="bet-controls">
                    <button class="bet-btn" id="betDown">-</button>
                    <div class="bet-amount" id="betAmount">10</div>
                    <button class="bet-btn" id="betUp">+</button>
                    <button class="max-bet-btn" id="maxBet">Max Bet</button>
                </div>
                
                <div class="lever-container">
                    <div class="cyber-lever" id="lever"></div>
                </div>
                
                <div class="auto-spin-panel">
                    <button class="auto-spin-btn" id="autoSpin10">Auto x10<span class="auto-spin-counter" style="display: none;">10</span></button>
                    <button class="auto-spin-btn" id="autoSpin25">Auto x25<span class="auto-spin-counter" style="display: none;">25</span></button>
                    <button class="auto-spin-btn" id="autoSpin50">Auto x50<span class="auto-spin-counter" style="display: none;">50</span></button>
                    <button class="auto-spin-btn" id="autoSpin100">Auto x100<span class="auto-spin-counter" style="display: none;">100</span></button>
                </div>
            </div>
            
            <button class="toggle-paytable" id="togglePaytable">Ver Tabla de Pagos</button>
            
            <div class="paytable-panel" id="paytablePanel">
                <h3>TABLA DE PAGOS</h3>
            </div>
            
            <div class="message-display" id="message">
                ¬°Bienvenido a CYBER-LOTER√çA DE ORO!
            </div>
        </div>
    </div>
    
    <div class="cyber-lines">
        <div class="cyber-line" style="top: 20%; animation-delay: 0s;"></div>
        <div class="cyber-line" style="top: 40%; animation-delay: -2s;"></div>
        <div class="cyber-line" style="top: 60%; animation-delay: -4s;"></div>
        <div class="cyber-line" style="top: 80%; animation-delay: -6s;"></div>
    </div>
    
    <div class="jackpot-animation" id="jackpotAnimation">
        <div class="jackpot-text">¬°JACKPOT!</div>
    </div>
    
    <div class="info-panel">
        <p>üé∞ CYBER-LOTER√çA DE ORO</p>
        <p>‚ú® Dise√±o Premium</p>
        <p>üé® Aut√©nticas cartas mexicanas</p>
    </div>
    
    <script>
        const gameName = "CYBER-LOTER√çA DE ORO";

        const loteriaCards = [
            { name: "El Gallo", image: "LoteriaEstampas/pagina1_img0.jpeg" },
            { name: "El Coraz√≥n", image: "LoteriaEstampas/pagina27_img0.jpeg" },
            { name: "El Valiente", image: "LoteriaEstampas/pagina12_img0.jpeg" },
            { name: "La Rosa", image: "LoteriaEstampas/pagina41_img0.jpeg" },
            { name: "El Paraguas", image: "LoteriaEstampas/pagina5_img0.jpeg" },
            { name: "La Garza", image: "LoteriaEstampas/pagina19_img0.jpeg" },
            { name: "La Escalera", image: "LoteriaEstampas/pagina7_img0.jpeg" },
            { name: "La Botella", image: "LoteriaEstampas/pagina8_img0.jpeg" },
            { name: "El Barril", image: "LoteriaEstampas/pagina9_img0.jpeg" },
            { name: "El √Årbol", image: "LoteriaEstampas/pagina10_img0.jpeg" },
            { name: "La Bandera", image: "LoteriaEstampas/pagina16_img0.jpeg" },
            { name: "La Estrella", image: "LoteriaEstampas/pagina35_img0.jpeg" },
            { name: "El Sol", image: "LoteriaEstampas/pagina46_img0.jpeg" },
            { name: "La Corona", image: "LoteriaEstampas/pagina47_img0.jpeg" },
        ];

        const paylines = [
            [0, 1, 2], // L√≠nea 1: fila superior
            [3, 4, 5], // L√≠nea 2: fila central
            [6, 7, 8], // L√≠nea 3: fila inferior
            [0, 4, 8], // L√≠nea 4: diagonal descendente
            [2, 4, 6], // L√≠nea 5: diagonal ascendente
            [0, 3, 6], // L√≠nea 6: columna izquierda
            [1, 4, 7], // L√≠nea 7: columna central
            [2, 5, 8], // L√≠nea 8: columna derecha
            [0, 1, 4, 5, 8] // L√≠nea 9: forma de "Z"
        ];
        
        const paytable = {
            "El Gallo": { "3": 100, "2": 10 },
            "El Coraz√≥n": { "3": 80, "2": 8 },
            "El Valiente": { "3": 60, "2": 6 },
            "La Rosa": { "3": 50 },
            "El Paraguas": { "3": 40 },
            "La Garza": { "3": 30 },
            "default": { "3": 20 }
        };

        const BET_OPTIONS = [10, 20, 50, 100, 200];
        
        let credits = 5000;
        let betAmount = 10;
        let winAmount = 0;
        let activeLines = 1;
        let isSpinning = false;
        let autoSpinCount = 0;
        let isAutoSpinning = false;
        
        const creditsDisplay = document.getElementById('credits');
        const betDisplay = document.getElementById('bet');
        const winDisplay = document.getElementById('win');
        const betAmountDisplay = document.getElementById('betAmount');
        const messageDisplay = document.getElementById('message');
        const lever = document.getElementById('lever');
        const slots = document.querySelectorAll('.slot');
        const lineButtons = document.querySelectorAll('.line-btn');
        const betDownBtn = document.getElementById('betDown');
        const betUpBtn = document.getElementById('betUp');
        const maxBetBtn = document.getElementById('maxBet');
        const paytablePanel = document.getElementById('paytablePanel');
        const togglePaytableBtn = document.getElementById('togglePaytable');
        const jackpotAnimation = document.getElementById('jackpotAnimation');
        const autoSpinButtons = document.querySelectorAll('.auto-spin-btn');
        const spinSound = document.getElementById('spinSound');
        const winSound = document.getElementById('winSound');
        const loseSound = document.getElementById('loseSound');
        const jackpotSound = document.getElementById('jackpotSound');
        const gameTitle = document.getElementById('gameTitle');
        const marqueeText = document.getElementById('marqueeText');

        function initGame() {
            gameTitle.textContent = gameName.toUpperCase();
            document.title = `${gameName} üé∞ | Fiesta Mexicana Premium`;
            marqueeText.textContent = `‚ú¶ ¬°Bienvenido a ${gameName}! Juega, gana y desbloquea el Jackpot. ¬°Sigue la racha ganadora!`;

            updateDisplays();
            generateDynamicPaytable();
            populateReels();
            createBackgroundDiamonds();
            
            lever.addEventListener('click', () => startSpin());
            betDownBtn.addEventListener('click', decreaseBet);
            betUpBtn.addEventListener('click', increaseBet);
            maxBetBtn.addEventListener('click', setMaxBet);
            togglePaytableBtn.addEventListener('click', togglePaytable);
            
            lineButtons.forEach(btn => {
                btn.addEventListener('click', function() {
                    if (isSpinning) return;
                    lineButtons.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    activeLines = parseInt(this.getAttribute('data-lines'));
                    updateDisplays();
                });
            });
            
            autoSpinButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const count = parseInt(btn.id.replace('autoSpin', ''));
                    if (isAutoSpinning && btn.classList.contains('active')) {
                        stopAutoSpin();
                    } else {
                        startAutoSpin(count);
                    }
                });
            });

            document.addEventListener('mousemove', (e) => {
                createCursorParticle(e.clientX, e.clientY);
            });
        }

        function updateDisplays() {
            creditsDisplay.textContent = credits;
            betDisplay.textContent = betAmount;
            winDisplay.textContent = winAmount;
            betAmountDisplay.textContent = betAmount;
        }

        function populateReels() {
            slots.forEach(slot => {
                const reel = slot.querySelector('.slot-reel');
                reel.innerHTML = '';
                const blankItem = document.createElement('div');
                blankItem.classList.add('reel-item');
                blankItem.style.backgroundColor = 'transparent';
                reel.appendChild(blankItem);

                for (let i = 0; i < 30; i++) {
                    const randomIndex = Math.floor(Math.random() * loteriaCards.length);
                    const card = loteriaCards[randomIndex];
                    const reelItem = document.createElement('div');
                    reelItem.classList.add('reel-item');
                    reelItem.style.backgroundImage = `url('${card.image}')`;
                    reelItem.setAttribute('data-card', card.name);
                    reel.appendChild(reelItem);
                }
            });
        }
        
        function startSpin() {
            if (isSpinning) return;
            
            const totalBet = betAmount * activeLines;
            if (credits < totalBet) {
                showMessage("¬°Cr√©ditos insuficientes!");
                loseSound.play();
                stopAutoSpin();
                return;
            }
            
            clearWinEffects();
            credits -= totalBet;
            isSpinning = true;
            lever.classList.add('pulled');
            spinSound.play();
            
            const finalCards = getRandomResult();
            
            slots.forEach((slot, index) => {
                const reel = slot.querySelector('.slot-reel');
                const finalCard = finalCards[index];
                
                reel.classList.remove('stop');
                reel.classList.add('spinning');

                reel.innerHTML = '';
                populateReelItems(reel);

                const finalItem = document.createElement('div');
                finalItem.classList.add('reel-item');
                finalItem.style.backgroundImage = `url('${finalCard.image}')`;
                finalItem.setAttribute('data-card', finalCard.name);
                reel.appendChild(finalItem);
            });

            setTimeout(() => {
                slots.forEach((slot, index) => {
                    const reel = slot.querySelector('.slot-reel');
                    reel.classList.remove('spinning');
                    reel.classList.add('stop');
                    const stopPosition = (reel.children.length - 1) * -slot.offsetHeight;
                    reel.style.transform = `translateY(${stopPosition}px)`;
                });
            }, 2200);

            setTimeout(() => {
                checkWin(finalCards);
                isSpinning = false;
                lever.classList.remove('pulled');

                if (isAutoSpinning && autoSpinCount > 0) {
                    autoSpinCount--;
                    updateAutoSpinUI();
                    if (autoSpinCount > 0) {
                        setTimeout(startSpin, 2500); 
                    } else {
                        isAutoSpinning = false;
                        showMessage("Auto-spin terminado.");
                        updateAutoSpinUI();
                    }
                }
            }, 2500);
            
            updateDisplays();
        }

        function populateReelItems(reel) {
            for (let i = 0; i < 30; i++) {
                const randomIndex = Math.floor(Math.random() * loteriaCards.length);
                const card = loteriaCards[randomIndex];
                const reelItem = document.createElement('div');
                reelItem.classList.add('reel-item');
                reelItem.style.backgroundImage = `url('${card.image}')`;
                reelItem.setAttribute('data-card', card.name);
                reel.appendChild(reelItem);
            }
        }

        function getRandomResult() {
            const result = [];
            for (let i = 0; i < slots.length; i++) {
                const randomIndex = Math.floor(Math.random() * loteriaCards.length);
                result.push(loteriaCards[randomIndex]);
            }
            return result;
        }

        function clearWinEffects() {
            slots.forEach(slot => slot.classList.remove('win'));
            const oldLines = document.querySelectorAll('.win-line');
            oldLines.forEach(line => line.remove());
        }

        function checkWin(finalCards) {
            const cards = finalCards.map(card => card.name);
            let totalWin = 0;
            let winningCombinations = [];

            const linesToCheck = paylines.slice(0, activeLines);
            
            linesToCheck.forEach((line) => {
                const lineCards = line.map(index => cards[index]);
                const uniqueCards = [...new Set(lineCards)];
                
                if (uniqueCards.length === 1) {
                    const cardName = uniqueCards[0];
                    const multiplier = paytable[cardName]?.["3"] || paytable.default["3"];
                    const win = betAmount * multiplier;
                    totalWin += win;
                    winningCombinations.push({ indices: line, win: win, card: cardName });
                }
                
                if (line.length === 3) {
                    if (lineCards[0] === lineCards[1] && paytable[lineCards[0]]?.["2"]) {
                        const multiplier = paytable[lineCards[0]]?.["2"];
                        const win = betAmount * multiplier;
                        totalWin += win;
                        winningCombinations.push({ indices: [line[0], line[1]], win: win, card: lineCards[0] });
                    }
                    if (lineCards[1] === lineCards[2] && paytable[lineCards[1]]?.["2"]) {
                        const multiplier = paytable[lineCards[1]]?.["2"];
                        const win = betAmount * multiplier;
                        totalWin += win;
                        winningCombinations.push({ indices: [line[1], line[2]], win: win, card: lineCards[1] });
                    }
                }
            });
            
            if (totalWin > 0) {
                credits += totalWin;
                winAmount = totalWin;
                winSound.play();
                
                const winMessage = `¬°Ganaste ${totalWin} cr√©ditos!`;
                
                winningCombinations.forEach(combo => {
                    combo.indices.forEach(index => {
                        slots[index].classList.add('win');
                    });
                    drawWinLine(combo.indices);
                });
                
                showMessage(winMessage);
                createWinParticles();

                if (totalWin >= betAmount * 50) {
                    showJackpotAnimation();
                    createJackpotParticles();
                    jackpotSound.play();
                }
            } else {
                winAmount = 0;
                loseSound.play();
                showMessage("¬°Sigue intentando!");
            }
            
            updateDisplays();
        }

        function increaseBet() {
            if (isSpinning) return;
            const currentIndex = BET_OPTIONS.indexOf(betAmount);
            if (currentIndex < BET_OPTIONS.length - 1) {
                betAmount = BET_OPTIONS[currentIndex + 1];
                updateDisplays();
            }
        }

        function decreaseBet() {
            if (isSpinning) return;
            const currentIndex = BET_OPTIONS.indexOf(betAmount);
            if (currentIndex > 0) {
                betAmount = BET_OPTIONS[currentIndex - 1];
                updateDisplays();
            }
        }
        
        function setMaxBet() {
            if (isSpinning) return;
            betAmount = BET_OPTIONS[BET_OPTIONS.length - 1];
            updateDisplays();
        }

        function showMessage(msg) {
            messageDisplay.textContent = msg;
            messageDisplay.classList.remove('win-animation');
            void messageDisplay.offsetWidth;
            messageDisplay.classList.add('win-animation');
        }

        function togglePaytable() {
            if (paytablePanel.style.display === 'block') {
                paytablePanel.style.display = 'none';
                togglePaytableBtn.textContent = 'Ver Tabla de Pagos';
            } else {
                paytablePanel.style.display = 'block';
                togglePaytableBtn.textContent = 'Ocultar Tabla de Pagos';
            }
        }

        function showJackpotAnimation() {
            jackpotAnimation.style.opacity = '1';
            jackpotAnimation.style.pointerEvents = 'all';
            
            setTimeout(() => {
                jackpotAnimation.style.opacity = '0';
                jackpotAnimation.style.pointerEvents = 'none';
            }, 3000);
        }

        function startAutoSpin(count) {
            if (isSpinning) return;
            if (isAutoSpinning) {
                showMessage("Ya hay un auto-spin en curso.");
                return;
            }
            
            autoSpinCount = count;
            isAutoSpinning = true;
            updateAutoSpinUI();
            startSpin();
        }

        function stopAutoSpin() {
            isAutoSpinning = false;
            autoSpinCount = 0;
            updateAutoSpinUI();
            showMessage("Auto-spin cancelado.");
        }
        
        function updateAutoSpinUI() {
            autoSpinButtons.forEach(btn => {
                const counter = btn.querySelector('.auto-spin-counter');
                const btnCount = parseInt(btn.id.replace('autoSpin', ''));

                btn.classList.toggle('active', isAutoSpinning && btnCount === autoSpinCount);
                counter.style.display = (isAutoSpinning && btnCount === autoSpinCount) ? 'flex' : 'none';

                if (isAutoSpinning && btnCount === autoSpinCount) {
                    counter.textContent = autoSpinCount;
                }
            });
            lever.style.cursor = isAutoSpinning ? 'not-allowed' : 'pointer';
        }

        function createWinParticles() {
            for (let i = 0; i < 30; i++) {
                createParticle();
            }
        }

        function createParticle() {
            const particle = document.createElement('div');
            particle.classList.add('win-particle');
            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 2;
            particle.style.left = `${centerX}px`;
            particle.style.top = `${centerY}px`;
            const angle = Math.random() * Math.PI * 2;
            const distance = 100 + Math.random() * 300;
            const tx = Math.cos(angle) * distance;
            const ty = Math.sin(angle) * distance;
            particle.style.setProperty('--tx', `${tx}px`);
            particle.style.setProperty('--ty', `${ty}px`);
            document.body.appendChild(particle);
            
            setTimeout(() => {
                particle.remove();
            }, 2000);
        }
        
        function drawWinLine(indices) {
            if (indices.length < 2) return;
            const startSlot = slots[indices[0]];
            const endSlot = slots[indices[indices.length - 1]];
            
            const startRect = startSlot.getBoundingClientRect();
            const endRect = endSlot.getBoundingClientRect();
            
            const startX = startRect.left + startRect.width / 2;
            const startY = startRect.top + startRect.height / 2;
            const endX = endRect.left + endRect.width / 2;
            const endY = endRect.top + endRect.height / 2;
            
            const length = Math.sqrt(Math.pow(endX - startX, 2) + Math.pow(endY - startY, 2));
            const angle = Math.atan2(endY - startY, endX - startX) * 180 / Math.PI;
            
            const line = document.createElement('div');
            line.classList.add('win-line');
            line.style.width = `${length}px`;
            line.style.transform = `rotate(${angle}deg)`;
            line.style.left = `${startX}px`;
            line.style.top = `${startY}px`;
            line.style.transformOrigin = `0 0`;
            line.style.display = 'block';
            
            document.body.appendChild(line);
        }

        function generateDynamicPaytable() {
            const paytableContent = document.getElementById('paytablePanel');
            let html = '<h3>TABLA DE PAGOS</h3>';
            
            const sortedCards = loteriaCards.slice().sort((a, b) => {
                const aVal = paytable[a.name]?.["3"] || 0;
                const bVal = paytable[b.name]?.["3"] || 0;
                return bVal - aVal;
            });

            for (const card of sortedCards) {
                const multiplier3 = paytable[card.name]?.["3"];
                const multiplier2 = paytable[card.name]?.["2"];

                if (multiplier3) {
                    html += `
                        <div class="paytable-item">
                            <span class="paytable-symbols">
                                <img src="${card.image}" alt="${card.name}"> x3
                            </span>
                            <span class="paytable-value">x${multiplier3}</span>
                        </div>
                    `;
                }

                if (multiplier2) {
                    html += `
                        <div class="paytable-item">
                            <span class="paytable-symbols">
                                <img src="${card.image}" alt="${card.name}"> x2
                            </span>
                            <span class="paytable-value">x${multiplier2}</span>
                        </div>
                    `;
                }
            }
            html += `
                <div class="paytable-item">
                    <span class="paytable-symbols">Cualquier 3 iguales</span>
                    <span class="paytable-value">x${paytable.default["3"]}</span>
                </div>
            `;
            
            paytableContent.innerHTML = html;
        }

        function createBackgroundDiamonds() {
            const container = document.querySelector('.gold-diamonds-container');
            for(let i = 0; i < 50; i++) {
                const diamond = document.createElement('div');
                diamond.classList.add('gold-diamond');
                diamond.style.top = `${Math.random() * 100}vh`;
                diamond.style.left = `${Math.random() * 100}vw`;
                diamond.style.opacity = Math.random();
                diamond.style.animationDelay = `${Math.random() * 5}s`;
                diamond.style.transform = `rotate(${Math.random() * 360}deg)`;
                container.appendChild(diamond);
            }
        }

        // New functions for cursor and jackpot particles
        function createCursorParticle(x, y) {
            const particle = document.createElement('div');
            particle.classList.add('cursor-particle');
            particle.style.left = `${x}px`;
            particle.style.top = `${y}px`;
            document.body.appendChild(particle);
            
            setTimeout(() => {
                particle.style.opacity = 1;
                particle.style.transform = 'scale(1)';
            }, 10);

            setTimeout(() => {
                particle.style.opacity = 0;
                particle.style.transform = 'scale(0)';
            }, 500);

            setTimeout(() => {
                particle.remove();
            }, 1000);
        }

        function createJackpotParticles() {
            const numParticles = 100;
            const colors = ['#FFD700', '#FFC400', '#FFFFFF'];
            
            // Create firework effect from the center
            for (let i = 0; i < numParticles; i++) {
                const particle = document.createElement('div');
                particle.classList.add('jackpot-particle');
                
                const angle = Math.random() * Math.PI * 2;
                const distance = Math.random() * 400 + 50;
                const endX = Math.cos(angle) * distance;
                const endY = Math.sin(angle) * distance;

                particle.style.left = `${window.innerWidth / 2}px`;
                particle.style.top = `${window.innerHeight / 2}px`;
                particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                particle.style.setProperty('--endX', `${endX}px`);
                particle.style.setProperty('--endY', `${endY}px`);
                particle.style.animationDelay = `${Math.random() * 0.5}s`;
                
                document.body.appendChild(particle);
                setTimeout(() => particle.remove(), 2000);
            }

            // Create confetti effect from the top
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti-particle');
                
                const startX = Math.random() * window.innerWidth;
                const startY = -20;
                const endX = startX + (Math.random() - 0.5) * 200;
                const endY = window.innerHeight + 20;

                confetti.style.left = `${startX}px`;
                confetti.style.top = `${startY}px`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.setProperty('--endX', `${endX}px`);
                confetti.style.setProperty('--endY', `${endY}px`);
                confetti.style.animationDelay = `${Math.random() * 1.5}s`;

                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 2500);
            }
        }

        window.addEventListener('load', initGame);
    </script>
</body>
</html>